(function(f){f.fn.__bind__=f.fn.bind;f.fn.__unbind__=f.fn.unbind;f.fn.__find__=f.fn.find;var d={version:"0.7.9",override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",
191:"/"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(a,c,i){var b={};b[a]={};b[a][c]={cb:i,disableInInput:false};return b}};d.specialKeys=f.extend(d.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/"});f.fn.find=function(a){this.query=a;return f.fn.__find__.apply(this,arguments)};f.fn.unbind=
function(a,c,i){if(f.isFunction(c)){i=c;c=null}if(c&&typeof c==="string")for(var b=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString(),g=a.split(" "),e=0;e<g.length;e++)delete d.triggersMap[b][g[e]][c];return this.__unbind__(a,i)};f.fn.bind=function(a,c,i){var b=a.match(d.override);if(f.isFunction(c)||!b)return this.__bind__(a,c,i);else{var g=null;if(a=f.trim(a.replace(d.override,"")))g=this.__bind__(a,c,i);if(typeof c==="string")c={combi:c};if(c.combi)for(a=0;a<b.length;a++){g=
b[a];var e=c.combi.toLowerCase(),h=d.newTrigger(g,e,i),j=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();h[g][e].disableInInput=c.disableInInput;if(d.triggersMap[j])d.triggersMap[j][g]||(d.triggersMap[j][g]=h[g]);else d.triggersMap[j]=h;var l=d.triggersMap[j][g][e];if(l)if(l.constructor!==Array)d.triggersMap[j][g][e]=[l];else d.triggersMap[j][g][e][l.length]=h[g][e];else d.triggersMap[j][g][e]=[h[g][e]];this.each(function(){var m=f(this);if(m.attr("hkId")&&m.attr("hkId")!==
j)j=m.attr("hkId")+";"+j;m.attr("hkId",j)});g=this.__bind__(b.join(" "),c,d.handler)}return g}};d.findElement=function(a){if(!f(a).attr("hkId"))if(f.browser.opera||f.browser.safari)for(;!f(a).attr("hkId")&&a.parentNode;)a=a.parentNode;return a};d.handler=function(a){var c=d.findElement(a.currentTarget);c=f(c);var i=c.attr("hkId");if(i){i=i.split(";");var b=a.which,g=a.type,e=d.specialKeys[b],h=!e&&String.fromCharCode(b).toLowerCase(),j=a.shiftKey,l=a.ctrlKey,m=a.altKey||a.originalEvent.altKey,k=null;
for(b=0;b<i.length;b++)if(d.triggersMap[i[b]][g]){k=d.triggersMap[i[b]][g];break}if(k){if(!j&&!l&&!m)e=k[e]||h&&k[h];else{b="";if(m)b+="alt+";if(l)b+="ctrl+";if(j)b+="shift+";e=k[b+e];if(!e)if(h)e=k[b+h]||k[b+d.shiftNums[h]]||b==="shift+"&&k[d.shiftNums[h]]}if(e){h=false;for(b=0;b<e.length;b++){if(e[b].disableInInput){k=f(a.target);if(c.is("input")||c.is("textarea")||c.is("select")||k.is("input")||k.is("textarea")||k.is("select"))return true}h=h||e[b].cb.apply(this,[a])}return h}}}};window.hotkeys=
d;return f})(jQuery);
